[
  {
    "table": "public.attachments",
    "summary": "Хранение информации о загруженных файлах",
    "columns": [
      {
        "name": "id",
        "type": "uuid",
        "nullable": false,
        "default": "gen_random_uuid()",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "original_name",
        "type": "varchar(255)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Оригинальное имя файла"
      },
      {
        "name": "storage_path",
        "type": "varchar(500)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Путь к файлу в Supabase Storage"
      },
      {
        "name": "size_bytes",
        "type": "integer",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Размер файла в байтах"
      },
      {
        "name": "mime_type",
        "type": "varchar(100)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "MIME тип файла"
      },
      {
        "name": "created_by",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Пользователь, загрузивший файл"
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [],
    "check_constraints": [
      {
        "name": "2200_19364_1_not_null",
        "definition": null
      },
      {
        "name": "2200_19364_2_not_null",
        "definition": null
      },
      {
        "name": "2200_19364_3_not_null",
        "definition": null
      },
      {
        "name": "2200_19364_4_not_null",
        "definition": null
      },
      {
        "name": "2200_19364_5_not_null",
        "definition": null
      },
      {
        "name": "2200_19364_6_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_attachments_created_by",
        "unique": false,
        "definition": "CREATE INDEX idx_attachments_created_by ON public.attachments USING btree (created_by)",
        "columns": [
          "created_by"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_attachments_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.contractor_types",
    "summary": "Dictionary of contractor categories used to classify payments and obligations.",
    "columns": [
      {
        "name": "id",
        "type": "integer",
        "nullable": false,
        "default": "nextval('contractor_types_id_seq'::regclass)",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": "Surrogate primary key."
      },
      {
        "name": "code",
        "type": "varchar(50)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Short machine code of contractor type."
      },
      {
        "name": "name",
        "type": "varchar(255)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Human friendly type name."
      },
      {
        "name": "description",
        "type": "text",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Optional operator facing description."
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Creation timestamp (default now())."
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Audit timestamp updated by trigger before UPDATE."
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "contractor_types_code_key",
        "columns": [
          "code"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_18391_1_not_null",
        "definition": null
      },
      {
        "name": "2200_18391_2_not_null",
        "definition": null
      },
      {
        "name": "2200_18391_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "contractor_types_code_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX contractor_types_code_key ON public.contractor_types USING btree (code)",
        "columns": [
          "code"
        ]
      },
      {
        "name": "idx_contractor_types_code",
        "unique": false,
        "definition": "CREATE INDEX idx_contractor_types_code ON public.contractor_types USING btree (code)",
        "columns": [
          "code"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_contractor_types_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.contractors",
    "summary": "Registered contractors with type, tax id and authoring user.",
    "columns": [
      {
        "name": "id",
        "type": "integer",
        "nullable": false,
        "default": "nextval('contractors_id_seq'::regclass)",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": "Surrogate primary key."
      },
      {
        "name": "type_id",
        "type": "integer",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "public.contractor_types.id",
        "note": "FK to contractor_types.id that classifies the contractor."
      },
      {
        "name": "name",
        "type": "varchar(255)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Full legal name or personal name."
      },
      {
        "name": "inn",
        "type": "varchar(12)",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Russian tax id (12 digits for sole proprietors/legal entities)."
      },
      {
        "name": "created_by",
        "type": "uuid",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "auth.users.id",
        "note": "auth.users.id of the user who created the record."
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Creation timestamp."
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Auto refreshed by update_updated_at_column()."
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [
      {
        "column": "created_by",
        "references": "auth.users.id",
        "description": "Authoring Supabase user."
      },
      {
        "column": "type_id",
        "references": "public.contractor_types.id",
        "description": "Contractor category reference."
      }
    ],
    "unique_constraints": [
      {
        "name": "contractors_inn_key",
        "columns": [
          "inn"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_18404_1_not_null",
        "definition": null
      },
      {
        "name": "2200_18404_2_not_null",
        "definition": null
      },
      {
        "name": "2200_18404_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "contractors_inn_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX contractors_inn_key ON public.contractors USING btree (inn)",
        "columns": [
          "inn"
        ]
      },
      {
        "name": "idx_contractors_inn",
        "unique": false,
        "definition": "CREATE INDEX idx_contractors_inn ON public.contractors USING btree (inn)",
        "columns": [
          "inn"
        ]
      },
      {
        "name": "idx_contractors_type_id",
        "unique": false,
        "definition": "CREATE INDEX idx_contractors_type_id ON public.contractors USING btree (type_id)",
        "columns": [
          "type_id"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_contractors_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.invoice_attachments",
    "summary": "Связь между счетами и прикрепленными файлами",
    "columns": [
      {
        "name": "id",
        "type": "uuid",
        "nullable": false,
        "default": "gen_random_uuid()",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "invoice_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "attachment_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "invoice_attachments_invoice_id_attachment_id_key",
        "columns": [
          "attachment_id"
        ]
      },
      {
        "name": "invoice_attachments_invoice_id_attachment_id_key",
        "columns": [
          "invoice_id"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_19379_1_not_null",
        "definition": null
      },
      {
        "name": "2200_19379_2_not_null",
        "definition": null
      },
      {
        "name": "2200_19379_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_invoice_attachments_attachment_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoice_attachments_attachment_id ON public.invoice_attachments USING btree (attachment_id)",
        "columns": [
          "attachment_id"
        ]
      },
      {
        "name": "idx_invoice_attachments_invoice_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoice_attachments_invoice_id ON public.invoice_attachments USING btree (invoice_id)",
        "columns": [
          "invoice_id"
        ]
      },
      {
        "name": "invoice_attachments_invoice_id_attachment_id_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX invoice_attachments_invoice_id_attachment_id_key ON public.invoice_attachments USING btree (invoice_id, attachment_id)",
        "columns": [
          "invoice_id",
          "attachment_id"
        ]
      }
    ],
    "triggers": []
  },
  {
    "table": "public.invoice_payments",
    "summary": null,
    "columns": [
      {
        "name": "id",
        "type": "uuid",
        "nullable": false,
        "default": "gen_random_uuid()",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "invoice_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "payment_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "allocated_amount",
        "type": "numeric(15,2)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "invoice_payments_invoice_id_payment_id_key",
        "columns": [
          "invoice_id"
        ]
      },
      {
        "name": "invoice_payments_invoice_id_payment_id_key",
        "columns": [
          "payment_id"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_19891_1_not_null",
        "definition": null
      },
      {
        "name": "2200_19891_2_not_null",
        "definition": null
      },
      {
        "name": "2200_19891_3_not_null",
        "definition": null
      },
      {
        "name": "2200_19891_4_not_null",
        "definition": null
      },
      {
        "name": "positive_allocated_amount",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_invoice_payments_invoice_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoice_payments_invoice_id ON public.invoice_payments USING btree (invoice_id)",
        "columns": [
          "invoice_id"
        ]
      },
      {
        "name": "idx_invoice_payments_payment_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoice_payments_payment_id ON public.invoice_payments USING btree (payment_id)",
        "columns": [
          "payment_id"
        ]
      },
      {
        "name": "invoice_payments_invoice_id_payment_id_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX invoice_payments_invoice_id_payment_id_key ON public.invoice_payments USING btree (invoice_id, payment_id)",
        "columns": [
          "invoice_id",
          "payment_id"
        ]
      }
    ],
    "triggers": []
  },
  {
    "table": "public.invoice_statuses",
    "summary": "Invoice workflow statuses used to drive document state transitions.",
    "columns": [
      {
        "name": "id",
        "type": "integer",
        "nullable": false,
        "default": "nextval('invoice_statuses_id_seq'::regclass)",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": "Surrogate status id."
      },
      {
        "name": "code",
        "type": "varchar(50)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Unique status code for UI/API."
      },
      {
        "name": "name",
        "type": "varchar(255)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Status label."
      },
      {
        "name": "description",
        "type": "text",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Optional status guidance."
      },
      {
        "name": "sort_order",
        "type": "integer",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Ordering for UI sequences."
      },
      {
        "name": "color",
        "type": "varchar(20)",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Optional badge color token."
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Creation timestamp."
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Auto refreshed timestamp."
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "invoice_statuses_code_key",
        "columns": [
          "code"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_19183_1_not_null",
        "definition": null
      },
      {
        "name": "2200_19183_2_not_null",
        "definition": null
      },
      {
        "name": "2200_19183_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_invoice_statuses_code",
        "unique": false,
        "definition": "CREATE INDEX idx_invoice_statuses_code ON public.invoice_statuses USING btree (code)",
        "columns": [
          "code"
        ]
      },
      {
        "name": "idx_invoice_statuses_sort_order",
        "unique": false,
        "definition": "CREATE INDEX idx_invoice_statuses_sort_order ON public.invoice_statuses USING btree (sort_order)",
        "columns": [
          "sort_order"
        ]
      },
      {
        "name": "invoice_statuses_code_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX invoice_statuses_code_key ON public.invoice_statuses USING btree (code)",
        "columns": [
          "code"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_invoice_statuses_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.invoice_types",
    "summary": "Catalog of invoice types (services, materials, subscriptions, etc.).",
    "columns": [
      {
        "name": "id",
        "type": "integer",
        "nullable": false,
        "default": "nextval('invoice_types_id_seq'::regclass)",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": "Surrogate type id."
      },
      {
        "name": "code",
        "type": "varchar(50)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Unique type code."
      },
      {
        "name": "name",
        "type": "varchar(255)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Type label."
      },
      {
        "name": "description",
        "type": "text",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Optional details."
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Creation timestamp."
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Auto refreshed timestamp."
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "invoice_types_code_key",
        "columns": [
          "code"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_18911_1_not_null",
        "definition": null
      },
      {
        "name": "2200_18911_2_not_null",
        "definition": null
      },
      {
        "name": "2200_18911_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_invoice_types_code",
        "unique": false,
        "definition": "CREATE INDEX idx_invoice_types_code ON public.invoice_types USING btree (code)",
        "columns": [
          "code"
        ]
      },
      {
        "name": "invoice_types_code_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX invoice_types_code_key ON public.invoice_types USING btree (code)",
        "columns": [
          "code"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_invoice_types_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.invoices",
    "summary": "Outbound invoices tracked by PayHub with monetary breakdown and workflow links.",
    "columns": [
      {
        "name": "id",
        "type": "uuid",
        "nullable": false,
        "default": "uuid_generate_v4()",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": "Invoice UUID."
      },
      {
        "name": "user_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "auth.users.id",
        "note": "auth.users.id that owns the invoice."
      },
      {
        "name": "invoice_number",
        "type": "text",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "External reference or invoice number."
      },
      {
        "name": "description",
        "type": "text",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Optional narrative description."
      },
      {
        "name": "due_date",
        "type": "date",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Payment due date."
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Creation timestamp."
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Auto refreshed timestamp."
      },
      {
        "name": "invoice_date",
        "type": "date",
        "nullable": false,
        "default": "CURRENT_DATE",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Calendar date printed on the invoice."
      },
      {
        "name": "payer_id",
        "type": "integer",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "public.contractors.id",
        "note": "Contractor acting as payer."
      },
      {
        "name": "supplier_id",
        "type": "integer",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "public.contractors.id",
        "note": "Contractor acting as supplier."
      },
      {
        "name": "project_id",
        "type": "integer",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "public.projects.id",
        "note": "Associated project for reporting."
      },
      {
        "name": "invoice_type_id",
        "type": "integer",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "public.invoice_types.id",
        "note": "Reference to invoice_types."
      },
      {
        "name": "amount_with_vat",
        "type": "numeric(15,2)",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Invoice total including VAT."
      },
      {
        "name": "vat_rate",
        "type": "numeric(5,2)",
        "nullable": true,
        "default": "20",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "VAT rate applied (percent)."
      },
      {
        "name": "vat_amount",
        "type": "numeric(15,2)",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "VAT amount derived from totals."
      },
      {
        "name": "amount_without_vat",
        "type": "numeric(15,2)",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Invoice total excluding VAT."
      },
      {
        "name": "delivery_days",
        "type": "integer",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Number of days for delivery after payment."
      },
      {
        "name": "delivery_days_type",
        "type": "varchar(20)",
        "nullable": true,
        "default": "'working'::character varying",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Delivery day interpretation (working/calendar)."
      },
      {
        "name": "preliminary_delivery_date",
        "type": "date",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Projected delivery date computed from payment terms."
      },
      {
        "name": "status_id",
        "type": "integer",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "public.invoice_statuses.id",
        "note": "Reference to invoice_statuses."
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [
      {
        "column": "invoice_type_id",
        "references": "public.invoice_types.id",
        "description": "Invoice type catalog reference."
      },
      {
        "column": "payer_id",
        "references": "public.contractors.id",
        "description": "Payer contractor linked to the invoice."
      },
      {
        "column": "project_id",
        "references": "public.projects.id",
        "description": "Project that groups the invoice."
      },
      {
        "column": "status_id",
        "references": "public.invoice_statuses.id",
        "description": "Workflow status from invoice_statuses."
      },
      {
        "column": "supplier_id",
        "references": "public.contractors.id",
        "description": "Supplier contractor linked to the invoice."
      },
      {
        "column": "user_id",
        "references": "auth.users.id",
        "description": "Invoice owner."
      }
    ],
    "unique_constraints": [],
    "check_constraints": [
      {
        "name": "2200_18252_10_not_null",
        "definition": null
      },
      {
        "name": "2200_18252_1_not_null",
        "definition": null
      },
      {
        "name": "2200_18252_22_not_null",
        "definition": null
      },
      {
        "name": "2200_18252_2_not_null",
        "definition": null
      },
      {
        "name": "2200_18252_3_not_null",
        "definition": null
      },
      {
        "name": "invoices_delivery_days_type_check",
        "definition": null
      },
      {
        "name": "invoices_vat_rate_check",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_invoices_created_at",
        "unique": false,
        "definition": "CREATE INDEX idx_invoices_created_at ON public.invoices USING btree (created_at DESC)",
        "columns": [
          "created_at DESC"
        ]
      },
      {
        "name": "idx_invoices_invoice_date",
        "unique": false,
        "definition": "CREATE INDEX idx_invoices_invoice_date ON public.invoices USING btree (invoice_date)",
        "columns": [
          "invoice_date"
        ]
      },
      {
        "name": "idx_invoices_invoice_type_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoices_invoice_type_id ON public.invoices USING btree (invoice_type_id)",
        "columns": [
          "invoice_type_id"
        ]
      },
      {
        "name": "idx_invoices_payer_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoices_payer_id ON public.invoices USING btree (payer_id)",
        "columns": [
          "payer_id"
        ]
      },
      {
        "name": "idx_invoices_project_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoices_project_id ON public.invoices USING btree (project_id)",
        "columns": [
          "project_id"
        ]
      },
      {
        "name": "idx_invoices_status_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoices_status_id ON public.invoices USING btree (status_id)",
        "columns": [
          "status_id"
        ]
      },
      {
        "name": "idx_invoices_supplier_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoices_supplier_id ON public.invoices USING btree (supplier_id)",
        "columns": [
          "supplier_id"
        ]
      },
      {
        "name": "idx_invoices_user_id",
        "unique": false,
        "definition": "CREATE INDEX idx_invoices_user_id ON public.invoices USING btree (user_id)",
        "columns": [
          "user_id"
        ]
      }
    ],
    "triggers": [
      {
        "name": "calculate_vat_on_invoice",
        "timing": "BEFORE",
        "events": [
          "INSERT",
          "UPDATE"
        ],
        "level": "ROW",
        "function": "calculate_vat_amounts",
        "description": null
      },
      {
        "name": "update_invoices_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.payment_attachments",
    "summary": "Связь между платежами и прикрепленными файлами",
    "columns": [
      {
        "name": "id",
        "type": "uuid",
        "nullable": false,
        "default": "gen_random_uuid()",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "payment_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "ID платежа"
      },
      {
        "name": "attachment_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "ID прикрепленного файла"
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "payment_attachments_payment_id_attachment_id_key",
        "columns": [
          "attachment_id"
        ]
      },
      {
        "name": "payment_attachments_payment_id_attachment_id_key",
        "columns": [
          "payment_id"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_19998_1_not_null",
        "definition": null
      },
      {
        "name": "2200_19998_2_not_null",
        "definition": null
      },
      {
        "name": "2200_19998_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_payment_attachments_attachment_id",
        "unique": false,
        "definition": "CREATE INDEX idx_payment_attachments_attachment_id ON public.payment_attachments USING btree (attachment_id)",
        "columns": [
          "attachment_id"
        ]
      },
      {
        "name": "idx_payment_attachments_payment_id",
        "unique": false,
        "definition": "CREATE INDEX idx_payment_attachments_payment_id ON public.payment_attachments USING btree (payment_id)",
        "columns": [
          "payment_id"
        ]
      },
      {
        "name": "payment_attachments_payment_id_attachment_id_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX payment_attachments_payment_id_attachment_id_key ON public.payment_attachments USING btree (payment_id, attachment_id)",
        "columns": [
          "payment_id",
          "attachment_id"
        ]
      }
    ],
    "triggers": []
  },
  {
    "table": "public.payment_statuses",
    "summary": null,
    "columns": [
      {
        "name": "id",
        "type": "integer",
        "nullable": false,
        "default": "nextval('payment_statuses_id_seq'::regclass)",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "code",
        "type": "varchar(50)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "name",
        "type": "varchar(255)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "description",
        "type": "text",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "sort_order",
        "type": "integer",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "color",
        "type": "varchar(20)",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "payment_statuses_code_key",
        "columns": [
          "code"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_19825_1_not_null",
        "definition": null
      },
      {
        "name": "2200_19825_2_not_null",
        "definition": null
      },
      {
        "name": "2200_19825_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "payment_statuses_code_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX payment_statuses_code_key ON public.payment_statuses USING btree (code)",
        "columns": [
          "code"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_payment_statuses_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.payment_types",
    "summary": null,
    "columns": [
      {
        "name": "id",
        "type": "integer",
        "nullable": false,
        "default": "nextval('payment_types_id_seq'::regclass)",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "code",
        "type": "varchar(50)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "name",
        "type": "varchar(255)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "description",
        "type": "text",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "payment_types_code_key",
        "columns": [
          "code"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_19838_1_not_null",
        "definition": null
      },
      {
        "name": "2200_19838_2_not_null",
        "definition": null
      },
      {
        "name": "2200_19838_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "payment_types_code_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX payment_types_code_key ON public.payment_types USING btree (code)",
        "columns": [
          "code"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_payment_types_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.payments",
    "summary": null,
    "columns": [
      {
        "name": "id",
        "type": "uuid",
        "nullable": false,
        "default": "gen_random_uuid()",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "invoice_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "payment_number",
        "type": "integer",
        "nullable": false,
        "default": "nextval('payment_number_seq'::regclass)",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "payment_date",
        "type": "date",
        "nullable": false,
        "default": "CURRENT_DATE",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "amount",
        "type": "numeric(15,2)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "description",
        "type": "text",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "payment_type_id",
        "type": "integer",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "status_id",
        "type": "integer",
        "nullable": true,
        "default": "1",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "created_by",
        "type": "uuid",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": null
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "payments_payment_number_key",
        "columns": [
          "payment_number"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_19851_1_not_null",
        "definition": null
      },
      {
        "name": "2200_19851_2_not_null",
        "definition": null
      },
      {
        "name": "2200_19851_3_not_null",
        "definition": null
      },
      {
        "name": "2200_19851_4_not_null",
        "definition": null
      },
      {
        "name": "2200_19851_5_not_null",
        "definition": null
      },
      {
        "name": "positive_amount",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_payments_created_by",
        "unique": false,
        "definition": "CREATE INDEX idx_payments_created_by ON public.payments USING btree (created_by)",
        "columns": [
          "created_by"
        ]
      },
      {
        "name": "idx_payments_invoice_id",
        "unique": false,
        "definition": "CREATE INDEX idx_payments_invoice_id ON public.payments USING btree (invoice_id)",
        "columns": [
          "invoice_id"
        ]
      },
      {
        "name": "idx_payments_payment_date",
        "unique": false,
        "definition": "CREATE INDEX idx_payments_payment_date ON public.payments USING btree (payment_date)",
        "columns": [
          "payment_date"
        ]
      },
      {
        "name": "idx_payments_status_id",
        "unique": false,
        "definition": "CREATE INDEX idx_payments_status_id ON public.payments USING btree (status_id)",
        "columns": [
          "status_id"
        ]
      },
      {
        "name": "payments_payment_number_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX payments_payment_number_key ON public.payments USING btree (payment_number)",
        "columns": [
          "payment_number"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_payments_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.projects",
    "summary": "Projects that group invoices and contractors for reporting.",
    "columns": [
      {
        "name": "id",
        "type": "integer",
        "nullable": false,
        "default": "nextval('projects_id_seq'::regclass)",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": "Surrogate primary key."
      },
      {
        "name": "code",
        "type": "varchar(50)",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Optional unique project code."
      },
      {
        "name": "name",
        "type": "varchar(255)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Project name."
      },
      {
        "name": "description",
        "type": "text",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Project description for internal teams."
      },
      {
        "name": "is_active",
        "type": "boolean",
        "nullable": true,
        "default": "true",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Activity flag, defaults to true."
      },
      {
        "name": "created_by",
        "type": "uuid",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "auth.users.id",
        "note": "auth.users.id that created the project."
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Creation timestamp."
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Auto refreshed timestamp."
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [
      {
        "column": "created_by",
        "references": "auth.users.id",
        "description": "User that registered the project."
      }
    ],
    "unique_constraints": [
      {
        "name": "projects_code_key",
        "columns": [
          "code"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_18372_1_not_null",
        "definition": null
      },
      {
        "name": "2200_18372_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_projects_code",
        "unique": false,
        "definition": "CREATE INDEX idx_projects_code ON public.projects USING btree (code)",
        "columns": [
          "code"
        ]
      },
      {
        "name": "idx_projects_is_active",
        "unique": false,
        "definition": "CREATE INDEX idx_projects_is_active ON public.projects USING btree (is_active)",
        "columns": [
          "is_active"
        ]
      },
      {
        "name": "projects_code_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX projects_code_key ON public.projects USING btree (code)",
        "columns": [
          "code"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_projects_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.roles",
    "summary": "Access roles managed inside PayHub.",
    "columns": [
      {
        "name": "id",
        "type": "integer",
        "nullable": false,
        "default": "nextval('roles_id_seq'::regclass)",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": "Role primary key."
      },
      {
        "name": "code",
        "type": "varchar(50)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Unique role code."
      },
      {
        "name": "name",
        "type": "varchar(255)",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Display name of the role."
      },
      {
        "name": "description",
        "type": "text",
        "nullable": true,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Optional usage notes."
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Creation timestamp."
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Auto refreshed timestamp."
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [],
    "unique_constraints": [
      {
        "name": "roles_code_key",
        "columns": [
          "code"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_18359_1_not_null",
        "definition": null
      },
      {
        "name": "2200_18359_2_not_null",
        "definition": null
      },
      {
        "name": "2200_18359_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_roles_code",
        "unique": false,
        "definition": "CREATE INDEX idx_roles_code ON public.roles USING btree (code)",
        "columns": [
          "code"
        ]
      },
      {
        "name": "roles_code_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX roles_code_key ON public.roles USING btree (code)",
        "columns": [
          "code"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_roles_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.user_profiles",
    "summary": "User profile mirror for Supabase auth users.",
    "columns": [
      {
        "name": "id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": true,
        "is_foreign": true,
        "references": "auth.users.id",
        "note": "Primary key and FK to auth.users.id."
      },
      {
        "name": "email",
        "type": "text",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "User email."
      },
      {
        "name": "full_name",
        "type": "text",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Display name for UI."
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Creation timestamp."
      },
      {
        "name": "updated_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Auto refreshed timestamp."
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [
      {
        "column": "id",
        "references": "auth.users.id",
        "description": "Profile mirrors Supabase auth user."
      }
    ],
    "unique_constraints": [
      {
        "name": "user_profiles_email_key",
        "columns": [
          "email"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_18236_1_not_null",
        "definition": null
      },
      {
        "name": "2200_18236_2_not_null",
        "definition": null
      },
      {
        "name": "2200_18236_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "user_profiles_email_key",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX user_profiles_email_key ON public.user_profiles USING btree (email)",
        "columns": [
          "email"
        ]
      }
    ],
    "triggers": [
      {
        "name": "update_user_profiles_updated_at",
        "timing": "BEFORE",
        "events": [
          "UPDATE"
        ],
        "level": "ROW",
        "function": "update_updated_at_column",
        "description": "Keeps updated_at synchronized via update_updated_at_column()."
      }
    ]
  },
  {
    "table": "public.user_projects",
    "summary": "Mapping table granting users access to projects.",
    "columns": [
      {
        "name": "id",
        "type": "integer",
        "nullable": false,
        "default": "nextval('user_projects_id_seq'::regclass)",
        "is_primary": true,
        "is_foreign": false,
        "references": null,
        "note": "Relation surrogate key."
      },
      {
        "name": "user_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "auth.users.id",
        "note": "Supabase user assigned to the project."
      },
      {
        "name": "project_id",
        "type": "integer",
        "nullable": false,
        "default": null,
        "is_primary": false,
        "is_foreign": true,
        "references": "public.projects.id",
        "note": "Project being granted to the user."
      },
      {
        "name": "created_at",
        "type": "timestamptz",
        "nullable": true,
        "default": "now()",
        "is_primary": false,
        "is_foreign": false,
        "references": null,
        "note": "Creation timestamp."
      }
    ],
    "primary_key": [
      "id"
    ],
    "foreign_keys": [
      {
        "column": "project_id",
        "references": "public.projects.id",
        "description": "Project assigned to the user."
      },
      {
        "column": "user_id",
        "references": "auth.users.id",
        "description": "User receiving project access."
      }
    ],
    "unique_constraints": [
      {
        "name": "user_projects_user_project_unique",
        "columns": [
          "project_id"
        ]
      },
      {
        "name": "user_projects_user_project_unique",
        "columns": [
          "user_id"
        ]
      }
    ],
    "check_constraints": [
      {
        "name": "2200_18517_1_not_null",
        "definition": null
      },
      {
        "name": "2200_18517_2_not_null",
        "definition": null
      },
      {
        "name": "2200_18517_3_not_null",
        "definition": null
      }
    ],
    "indexes": [
      {
        "name": "idx_user_projects_project_id",
        "unique": false,
        "definition": "CREATE INDEX idx_user_projects_project_id ON public.user_projects USING btree (project_id)",
        "columns": [
          "project_id"
        ]
      },
      {
        "name": "idx_user_projects_user_id",
        "unique": false,
        "definition": "CREATE INDEX idx_user_projects_user_id ON public.user_projects USING btree (user_id)",
        "columns": [
          "user_id"
        ]
      },
      {
        "name": "user_projects_user_project_unique",
        "unique": true,
        "definition": "CREATE UNIQUE INDEX user_projects_user_project_unique ON public.user_projects USING btree (user_id, project_id)",
        "columns": [
          "user_id",
          "project_id"
        ]
      }
    ],
    "triggers": []
  }
]
