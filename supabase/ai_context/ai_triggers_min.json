[
  {
    "trigger": "public.update_approval_routes_updated_at",
    "table": "public.approval_routes",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.audit_approval_steps",
    "table": "public.approval_steps",
    "timing": "AFTER",
    "events": [
      "INSERT",
      "UPDATE"
    ],
    "function": "public.log_approval_actions()",
    "purpose": ""
  },
  {
    "trigger": "public.update_attachments_updated_at",
    "table": "public.attachments",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_contract_statuses_updated_at",
    "table": "public.contract_statuses",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_contractors_updated_at",
    "table": "public.contractors",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_contracts_updated_at",
    "table": "public.contracts",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_departments_updated_at",
    "table": "public.departments",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_employees_updated_at",
    "table": "public.employees",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.audit_invoice_attachments",
    "table": "public.invoice_attachments",
    "timing": "AFTER",
    "events": [
      "INSERT",
      "DELETE"
    ],
    "function": "public.log_attachment_changes()",
    "purpose": ""
  },
  {
    "trigger": "public.update_delivery_date_on_payment_change",
    "table": "public.invoice_payments",
    "timing": "AFTER",
    "events": [
      "INSERT",
      "DELETE",
      "UPDATE"
    ],
    "function": "public.recalculate_invoice_delivery_date()",
    "purpose": ""
  },
  {
    "trigger": "public.update_invoice_statuses_updated_at",
    "table": "public.invoice_statuses",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_invoice_types_updated_at",
    "table": "public.invoice_types",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.audit_invoice_changes",
    "table": "public.invoices",
    "timing": "AFTER",
    "events": [
      "INSERT",
      "DELETE",
      "UPDATE"
    ],
    "function": "public.log_invoice_changes()",
    "purpose": ""
  },
  {
    "trigger": "public.update_invoices_updated_at",
    "table": "public.invoices",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_letters_updated_at",
    "table": "public.letters",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_material_classes_updated_at",
    "table": "public.material_classes",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_material_nomenclature_updated_at",
    "table": "public.material_nomenclature",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_material_request_items_count_trigger",
    "table": "public.material_request_items",
    "timing": "AFTER",
    "events": [
      "INSERT",
      "DELETE"
    ],
    "function": "public.update_material_request_items_count()",
    "purpose": "Keeps material_requests.total_items in sync with child records."
  },
  {
    "trigger": "public.update_material_requests_updated_at",
    "table": "public.material_requests",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_payment_approvals_updated_at",
    "table": "public.payment_approvals",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.audit_payment_attachments",
    "table": "public.payment_attachments",
    "timing": "AFTER",
    "events": [
      "INSERT",
      "DELETE"
    ],
    "function": "public.log_attachment_changes()",
    "purpose": ""
  },
  {
    "trigger": "public.update_payment_statuses_updated_at",
    "table": "public.payment_statuses",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_payment_types_updated_at",
    "table": "public.payment_types",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.audit_payment_changes",
    "table": "public.payments",
    "timing": "AFTER",
    "events": [
      "INSERT",
      "DELETE",
      "UPDATE"
    ],
    "function": "public.log_payment_changes()",
    "purpose": ""
  },
  {
    "trigger": "public.update_payments_updated_at",
    "table": "public.payments",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_positions_updated_at",
    "table": "public.positions",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_project_budgets_updated_at",
    "table": "public.project_budgets",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_projects_updated_at",
    "table": "public.projects",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_roles_updated_at",
    "table": "public.roles",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_user_profiles_updated_at",
    "table": "public.user_profiles",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  },
  {
    "trigger": "public.update_workflow_stages_updated_at",
    "table": "public.workflow_stages",
    "timing": "BEFORE",
    "events": [
      "UPDATE"
    ],
    "function": "public.update_updated_at_column()",
    "purpose": "Keeps updated_at timestamps fresh on write-heavy tables."
  }
]
