{
  "public.approval_routes": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "invoice_type_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "is_active": {
        "type": "boolean",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Payment approval routes. One invoice type can have multiple routes."
  },
  "public.approval_steps": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "payment_approval_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "stage_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "action": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "acted_by": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "acted_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "comment": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Audit log of actions performed during payment approval process"
  },
  "public.attachments": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "original_name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "storage_path": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "size_bytes": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "mime_type": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "created_by": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Metadata for files uploaded to Supabase Storage"
  },
  "public.audit_log": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "entity_type": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "entity_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "action": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "field_name": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "old_value": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "new_value": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "user_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "metadata": {
        "type": "jsonb",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Centralized audit log for tracking changes to invoices, payments, and related entities"
  },
  "public.contract_attachments": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "contract_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "attachment_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Junction table linking contracts with attached files"
  },
  "public.contract_invoices": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "contract_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "invoice_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Junction table linking contracts with invoices"
  },
  "public.contract_projects": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "contract_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "project_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Many-to-many relationship table linking contracts with projects"
  },
  "public.contract_statuses": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "code": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "color": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "sort_order": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Contract status reference table"
  },
  "public.contractor_alternative_names": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "bigint",
        "nullable": false,
        "foreign_key": null
      },
      "contractor_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "alternative_name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "is_primary": {
        "type": "boolean",
        "nullable": false,
        "foreign_key": null
      },
      "sort_order": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": null
  },
  "public.contractors": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "inn": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "created_by": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "primary_name_id": {
        "type": "bigint",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Registry of contractors linked to invoices and projects"
  },
  "public.contracts": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "contract_number": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "contract_date": {
        "type": "date",
        "nullable": false,
        "foreign_key": null
      },
      "payer_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "supplier_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "vat_rate": {
        "type": "numeric",
        "nullable": true,
        "foreign_key": null
      },
      "warranty_period_days": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "created_by": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "project_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "status_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "payment_terms": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "advance_percentage": {
        "type": "numeric",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Contracts with counterparties"
  },
  "public.departments": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Organizational departments"
  },
  "public.employees": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "last_name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "first_name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "middle_name": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "full_name": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "department_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "position_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "email": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "phone": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "is_active": {
        "type": "boolean",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "created_by": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Company employees registry"
  },
  "public.invoice_attachments": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "invoice_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "attachment_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Junction table linking invoices with attached files"
  },
  "public.invoice_payments": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "invoice_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "payment_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "allocated_amount": {
        "type": "numeric",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Junction table linking invoices with payments and allocation amounts"
  },
  "public.invoice_statuses": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "code": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "sort_order": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "color": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Invoice status reference table"
  },
  "public.invoice_types": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "code": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Invoice type reference table"
  },
  "public.invoices": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "user_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "invoice_number": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "due_date": {
        "type": "date",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "invoice_date": {
        "type": "date",
        "nullable": false,
        "foreign_key": null
      },
      "payer_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "supplier_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "project_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "invoice_type_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "amount_with_vat": {
        "type": "numeric",
        "nullable": true,
        "foreign_key": null
      },
      "vat_rate": {
        "type": "numeric",
        "nullable": true,
        "foreign_key": null
      },
      "vat_amount": {
        "type": "numeric",
        "nullable": true,
        "foreign_key": null
      },
      "amount_without_vat": {
        "type": "numeric",
        "nullable": true,
        "foreign_key": null
      },
      "delivery_days": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "delivery_days_type": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "preliminary_delivery_date": {
        "type": "date",
        "nullable": true,
        "foreign_key": null
      },
      "status_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "delivery_cost": {
        "type": "numeric",
        "nullable": true,
        "foreign_key": null
      },
      "relevance_date": {
        "type": "date",
        "nullable": false,
        "foreign_key": null
      },
      "material_request_id": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "contract_id": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "responsible_id": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "is_archived": {
        "type": "boolean",
        "nullable": false,
        "foreign_key": null
      },
      "recipient": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Outbound invoices issued to contractors"
  },
  "public.letter_attachments": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "letter_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "attachment_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Связь писем с прикрепленными файлами"
  },
  "public.letter_links": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "parent_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "child_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Связи между письмами (родительское письмо и его ответы/связанные письма)"
  },
  "public.letter_public_shares": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "letter_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "token": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": false,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": false,
        "foreign_key": null
      }
    },
    "comment": null
  },
  "public.letter_statuses": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "code": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "color": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Статусы писем (новое, на рассмотрении, исполнено, архив и т.д.)"
  },
  "public.letters": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "project_id": {
        "type": "bigint",
        "nullable": true,
        "foreign_key": null
      },
      "number": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "status_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "letter_date": {
        "type": "date",
        "nullable": false,
        "foreign_key": null
      },
      "subject": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "content": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "responsible_user_id": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "sender": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "recipient": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "direction": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "reg_number": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "reg_date": {
        "type": "date",
        "nullable": true,
        "foreign_key": null
      },
      "delivery_method": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_by": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "responsible_person_name": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "response_deadline": {
        "type": "date",
        "nullable": true,
        "foreign_key": null
      },
      "sender_type": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "sender_contractor_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "recipient_type": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "recipient_contractor_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Учет входящих и исходящих писем компании"
  },
  "public.material_classes": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "bigint",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "is_active": {
        "type": "boolean",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "parent_id": {
        "type": "bigint",
        "nullable": true,
        "foreign_key": null
      },
      "level": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Material classification hierarchy"
  },
  "public.material_nomenclature": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "unit": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "is_active": {
        "type": "boolean",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "material_class_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Material catalog and specifications"
  },
  "public.material_request_items": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "material_request_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "material_name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "unit": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "quantity": {
        "type": "numeric",
        "nullable": false,
        "foreign_key": null
      },
      "sort_order": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "nomenclature_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Individual items within material requests"
  },
  "public.material_requests": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "request_number": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "request_date": {
        "type": "date",
        "nullable": false,
        "foreign_key": null
      },
      "project_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "employee_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "total_items": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "created_by": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Material requisitions submitted by employees"
  },
  "public.payment_approvals": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "payment_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "route_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "status_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "current_stage_index": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Payment approval instances tracking approval workflow progress"
  },
  "public.payment_attachments": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "payment_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "attachment_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Junction table linking payments with attached files"
  },
  "public.payment_statuses": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "code": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "sort_order": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "color": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Payment status reference table"
  },
  "public.payment_types": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "code": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Payment type reference table"
  },
  "public.payments": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "invoice_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "payment_number": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "payment_date": {
        "type": "date",
        "nullable": false,
        "foreign_key": null
      },
      "amount": {
        "type": "numeric",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "payment_type_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "status_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "created_by": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "is_archived": {
        "type": "boolean",
        "nullable": false,
        "foreign_key": null
      },
      "paid_date": {
        "type": "date",
        "nullable": true,
        "foreign_key": null
      },
      "accountant_notes": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "requires_payment_order": {
        "type": "boolean",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Payment records for invoices"
  },
  "public.positions": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Employee positions/job titles"
  },
  "public.project_alternative_names": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "bigint",
        "nullable": false,
        "foreign_key": null
      },
      "project_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "alternative_name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "sort_order": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Alternative names for projects (aliases, abbreviations, translations, etc.)"
  },
  "public.project_budgets": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "project_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "allocated_amount": {
        "type": "numeric",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_by": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Project budgets and financial allocations"
  },
  "public.project_templates": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "bigint",
        "nullable": false,
        "foreign_key": null
      },
      "project_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "template_path": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": null
  },
  "public.projects": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "code": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "is_active": {
        "type": "boolean",
        "nullable": true,
        "foreign_key": null
      },
      "created_by": {
        "type": "uuid",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Company projects"
  },
  "public.roles": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "code": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": false,
        "foreign_key": null
      },
      "description": {
        "type": "text",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "own_projects_only": {
        "type": "boolean",
        "nullable": true,
        "foreign_key": null
      },
      "allowed_pages": {
        "type": "jsonb",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "User roles with page-level permissions"
  },
  "public.user_profiles": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "email": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "full_name": {
        "type": "text",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "role_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "is_disabled": {
        "type": "boolean",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Extended user profiles linked to Supabase auth users"
  },
  "public.user_projects": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "user_id": {
        "type": "uuid",
        "nullable": false,
        "foreign_key": null
      },
      "project_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Junction table linking users with projects they have access to"
  },
  "public.workflow_stages": {
    "schema": "public",
    "columns": {
      "id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "route_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "order_index": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "role_id": {
        "type": "integer",
        "nullable": false,
        "foreign_key": null
      },
      "name": {
        "type": "character varying",
        "nullable": true,
        "foreign_key": null
      },
      "created_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "nullable": true,
        "foreign_key": null
      },
      "payment_status_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      },
      "permissions": {
        "type": "jsonb",
        "nullable": true,
        "foreign_key": null
      },
      "is_active": {
        "type": "boolean",
        "nullable": true,
        "foreign_key": null
      },
      "invoice_status_id": {
        "type": "integer",
        "nullable": true,
        "foreign_key": null
      }
    },
    "comment": "Workflow stages for approval routes"
  }
}